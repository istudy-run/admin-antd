(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d6bac"],{7492:function(e,t,a){"use strict";a.r(t);a("b0c0");var o=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{bordered:!1}},[t("TableTool",{attrs:{"show-alert":!0,dataSource:e.tableData,"table-size":e.tableSize,selectRows:e.selectedRows,selectKeys:e.selectedRowKeys},on:{"update:tableSize":function(t){e.tableSize=t},"update:table-size":function(t){e.tableSize=t},"update:selectRows":function(t){e.selectedRows=t},"update:select-rows":function(t){e.selectedRows=t},"update:selectKeys":function(t){e.selectedRowKeys=t},"update:select-keys":function(t){e.selectedRowKeys=t},refreshTable:e.getTenantList},scopedSlots:e._u([{key:"table",fn:function(){return[t("a-table",{attrs:{tableLayout:"fixed",rowKey:function(e){return e.id},size:e.tableSize,columns:e.columns,dataSource:e.tableData,pagination:e.pagination,loading:{spinning:e.loading,tip:"加载中..."},rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},scopedSlots:e._u([{key:"status",fn:function(a,o){return[t("a-tag",{attrs:{color:"1"===o.status?"green":"red"}},[e._v(e._s("1"===o.status?"启用":"停用"))])]}},{key:"action",fn:function(a,o){return[t("a",{on:{click:function(t){return e.viewTenant(o)}}},[t("a-icon",{attrs:{type:"eye"}}),t("span",{staticClass:"ant-ml-4"},[e._v("查看")])],1),t("a-divider",{attrs:{type:"vertical"}}),t("a",{on:{click:function(t){return e.editTenant(o)}}},[t("a-icon",{attrs:{type:"edit"}}),t("span",{staticClass:"ant-ml-4"},[e._v("编辑")])],1),t("a-divider",{attrs:{type:"vertical"}}),t("a",{directives:[{name:"color",rawName:"v-color",value:"red",expression:"'red'"}],on:{click:function(t){return e.deleteTenant(o)}}},[t("a-icon",{attrs:{type:"delete"}}),t("span",{staticClass:"ant-ml-4"},[e._v("删除")])],1)]}}])})]},proxy:!0}]),model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}},[t("a-button",{attrs:{type:"primary",icon:"plus",ghost:""},on:{click:e.addTenant}},[e._v("添加租户")]),t("a-button",{attrs:{type:"danger",icon:"delete",ghost:""},on:{click:e.delTenants}},[e._v("批量删除")])],1),t("a-modal",{attrs:{width:720,title:e.modal.title,keyboard:!1,maskClosable:!1},on:{cancel:e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[t("a-space",[t("a-button",{on:{click:e.handleCancel}},[e._v(e._s(e.modal.view?"关闭":"取消"))]),e.modal.view?e._e():t("a-button",{attrs:{type:"primary"},on:{click:e.handleOkModal}},[e._v("提交")])],1)]},proxy:!0}]),model:{value:e.modal.show,callback:function(t){e.$set(e.modal,"show",t)},expression:"modal.show"}},[t("a-form-model",e._b({ref:"form",attrs:{model:e.form,rules:e.rules}},"a-form-model",e.formItemLayout,!1),[t("a-row",{attrs:{gutter:12,type:"flex"}},[e.modal.view?t("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[t("a-form-model-item",{attrs:{label:"租户编号"}},[t("div",[e._v(e._s(e.form.id))])])],1):e._e(),t("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[t("a-form-model-item",{attrs:{label:"租户编码",prop:e.modal.view?"":"code"}},[e.modal.view?t("div",[e._v(e._s(e.form.code))]):t("a-input",{attrs:{placeholder:"租户编码"},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1),t("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[t("a-form-model-item",{attrs:{label:"租户名称",prop:e.modal.view?"":"name"}},[e.modal.view?t("div",[e._v(e._s(e.form.name))]):t("a-input",{attrs:{placeholder:"租户名称"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1),t("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[t("a-form-model-item",{attrs:{label:"开始时间",prop:e.modal.view?"":"startTime"}},[e.modal.view?t("div",[e._v(e._s(e.form.startTime))]):t("a-date-picker",{directives:[{name:"width",rawName:"v-width",value:"100%",expression:"'100%'"}],attrs:{placeholder:"请选择开始时间"},model:{value:e.form.startTime,callback:function(t){e.$set(e.form,"startTime",t)},expression:"form.startTime"}})],1)],1),t("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[t("a-form-model-item",{attrs:{label:"结束时间",prop:e.modal.view?"":"endTime"}},[e.modal.view?t("div",[e._v(e._s(e.form.endTime))]):t("a-date-picker",{directives:[{name:"width",rawName:"v-width",value:"100%",expression:"'100%'"}],attrs:{placeholder:"请选择结束时间"},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1)],1),t("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[t("a-form-model-item",{attrs:{label:"状态"}},[e.modal.view?t("div",[t("a-tag",{attrs:{color:"1"===e.form.status?"green":"red"}},[e._v(e._s("1"===e.form.status?"启用":"停用"))])],1):t("a-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[t("XRadio",{attrs:{block:"",value:"1"}},[e._v("启用")]),t("XRadio",{attrs:{block:"",value:"0"}},[e._v("停用")])],1)],1)],1),e.modal.view?t("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[t("a-form-model-item",{attrs:{label:"创建时间"}},[t("div",[e._v(e._s(e.form.createTime))])])],1):e._e(),e.modal.view?t("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[t("a-form-model-item",{attrs:{label:"创建者"}},[t("div",[e._v(e._s(e.form.createBy))])])],1):e._e(),t("a-col",{attrs:{span:24}},[t("a-form-model-item",e._b({attrs:{label:"备注"}},"a-form-model-item",{labelCol:{span:3},wrapperCol:{span:21}},!1),[e.modal.view?t("div",[e._v(e._s(e.form.remark))]):t("a-textarea",{attrs:{rows:3,placeholder:"备注"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,"remark",t)},expression:"form.remark"}})],1)],1)],1)],1)],1)],1)},n=[],s=(a("a15b"),a("d81d"),a("d3b7"),{name:"Tenant",data:function(){return{loading:!1,form:{id:void 0,code:void 0,name:void 0,status:"1",startTime:void 0,endTime:void 0,remark:void 0},rules:{code:[{required:!0,message:"请填写租户编码",trigger:"blur"}],name:[{required:!0,message:"请填写租户名称",trigger:"blur"}],startTime:[{required:!0,message:"请选择开始时间",trigger:"blur"}],endTime:[{required:!0,message:"请选择结束时间",trigger:"blur"}]},formItemLayout:{labelCol:{span:6},wrapperCol:{span:18}},columns:[{title:"租户id",dataIndex:"id",align:"center",width:80},{title:"租户编码",dataIndex:"code",align:"center",width:100},{title:"租户名称",dataIndex:"name",align:"center",width:160},{title:"状态",dataIndex:"status",align:"center",scopedSlots:{customRender:"status"},render:function(e){return"1"===e.status?"启用":"停用"},width:120},{title:"开始时间",dataIndex:"startTime",align:"center",width:200},{title:"结束时间",dataIndex:"endTime",align:"center",width:200},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",fixed:"right",width:220}],tableData:[],tableSize:"middle",pagination:{total:0,current:1,pageSize:10,showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"共".concat(e,"条")}},modal:{show:!1,view:!1,title:""},selectedRows:[],selectedRowKeys:[]}},created:function(){this.getTenantList()},methods:{getTenantList:function(){var e=this;this.loading=!0,setTimeout((function(){e.tableData=[{createBy:"管理员",createTime:"2022-08-24 10:23:39",updateBy:"管理员",updateTime:null,remark:null,id:1,name:"北京总部",code:"beijing",status:"1",startTime:"2021-01-01 12:00:00",endTime:"2099-01-01 12:00:00"},{createBy:"管理员",createTime:"2023-07-16 10:23:39",updateBy:"管理员",updateTime:null,remark:null,id:2,name:"成都分部",code:"chengdu",status:"1",startTime:"2023-01-01 12:00:00",endTime:"2099-01-01 12:00:00"}],e.loading=!1}),500)},addTenant:function(){this.form={status:"1"},this.modal={show:!0,view:!1,title:"添加租户"}},delTenants:function(){var e=this,t=this.$createElement;this.selectedRows.length?this.$confirm({title:"删除确认",okType:"danger",content:t("span",["您确认要删除租户 ",t("strong",[this.selectedRows.map((function(e){return e.name})).join("，")])," ？"]),loading:!0,onOk:function(){return new Promise((function(t){setTimeout((function(){e.$message.error("抱歉，您没有该权限"),t()}),800)}))}}):this.$message.error("您没有选择租户")},viewTenant:function(e){this.form=e,this.modal={show:!0,view:!0,title:"查看租户"}},editTenant:function(e){this.form=e,this.modal={show:!0,view:!1,title:"编辑租户"}},deleteTenant:function(e){var t=this,a=this.$createElement;this.$confirm({title:"删除确认",okType:"danger",content:a("span",["您确认要删除租户 ",a("strong",[e.name])," ？"]),loading:!0,onOk:function(){return new Promise((function(e){setTimeout((function(){t.$message.error("抱歉，您没有该权限"),e()}),800)}))}})},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},handleOkModal:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.modal.show=!1)}))},handleCancel:function(){this.modal.show=!1,this.modal.view||this.$refs.form.resetFields()}}}),i=s,r=a("2877"),l=Object(r["a"])(i,o,n,!1,null,null,null);t["default"]=l.exports}}]);
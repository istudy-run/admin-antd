(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d228e95"],{dace:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{bordered:!1}},[t("TableTool",{attrs:{"show-alert":!0,dataSource:e.tableData,"table-size":e.tableSize,selectRows:e.selectedRows,selectKeys:e.selectedRowKeys},on:{"update:tableSize":function(t){e.tableSize=t},"update:table-size":function(t){e.tableSize=t},"update:selectRows":function(t){e.selectedRows=t},"update:select-rows":function(t){e.selectedRows=t},"update:selectKeys":function(t){e.selectedRowKeys=t},"update:select-keys":function(t){e.selectedRowKeys=t},refreshTable:e.getNoticeList},scopedSlots:e._u([{key:"table",fn:function(){return[t("a-table",{attrs:{tableLayout:"fixed",rowKey:function(e){return e.noticeId},size:e.tableSize,columns:e.columns,dataSource:e.tableData,pagination:e.pagination,loading:{spinning:e.loading,tip:"加载中..."},rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},scopedSlots:e._u([{key:"noticeType",fn:function(o,a){return[t("a-tag",{attrs:{color:"1"===a.noticeType?"orange":"blue"}},[e._v(e._s("1"===a.noticeType?"通知":"公告"))])]}},{key:"status",fn:function(o,a){return[t("a-tag",{attrs:{color:"1"===a.status?"green":"red"}},[e._v(e._s("1"===a.status?"正常":"关闭"))])]}},{key:"action",fn:function(o,a){return[t("a",{on:{click:function(t){return e.viewNotice(a)}}},[t("a-icon",{attrs:{type:"eye"}}),t("span",{staticClass:"ant-ml-4"},[e._v("查看")])],1),t("a-divider",{attrs:{type:"vertical"}}),t("a",{on:{click:function(t){return e.editNotice(a)}}},[t("a-icon",{attrs:{type:"edit"}}),t("span",{staticClass:"ant-ml-4"},[e._v("编辑")])],1),t("a-divider",{attrs:{type:"vertical"}}),t("a",{directives:[{name:"color",rawName:"v-color",value:"red",expression:"'red'"}],on:{click:function(t){return e.deleteNotice(a)}}},[t("a-icon",{attrs:{type:"delete"}}),t("span",{staticClass:"ant-ml-4"},[e._v("删除")])],1)]}}])})]},proxy:!0}]),model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}},[t("a-button",{attrs:{type:"primary",icon:"plus",ghost:""},on:{click:e.addNotice}},[e._v("添加公告")]),t("a-button",{attrs:{type:"danger",icon:"delete",ghost:""},on:{click:e.delNotices}},[e._v("批量删除")])],1),t("a-modal",{attrs:{width:720,title:e.modal.title,keyboard:!1,maskClosable:!1},on:{cancel:e.handleCancel},scopedSlots:e._u([{key:"footer",fn:function(){return[t("a-space",[t("a-button",{on:{click:e.handleCancel}},[e._v(e._s(e.modal.view?"关闭":"取消"))]),e.modal.view?e._e():t("a-button",{attrs:{type:"primary"},on:{click:e.handleOkModal}},[e._v("提交")])],1)]},proxy:!0}]),model:{value:e.modal.show,callback:function(t){e.$set(e.modal,"show",t)},expression:"modal.show"}},[t("a-form-model",e._b({ref:"form",attrs:{model:e.form,rules:e.rules}},"a-form-model",e.formItemLayout,!1),[t("a-row",{attrs:{gutter:12,type:"flex"}},[t("a-col",{attrs:{span:24}},[t("a-form-model-item",e._b({attrs:{label:"公告标题",prop:e.modal.view?"":"noticeTitle"}},"a-form-model-item",{labelCol:{span:3},wrapperCol:{span:21}},!1),[e.modal.view?t("div",[e._v(e._s(e.form.noticeTitle))]):t("a-input",{attrs:{placeholder:"请填写公告/通知标题"},model:{value:e.form.noticeTitle,callback:function(t){e.$set(e.form,"noticeTitle",t)},expression:"form.noticeTitle"}})],1)],1),t("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[t("a-form-model-item",{attrs:{label:"公告类型"}},[e.modal.view?t("div",[t("a-tag",{attrs:{color:"1"===e.form.noticeType?"orange":"blue"}},[e._v(e._s("1"===e.form.noticeType?"通知":"公告"))])],1):t("a-radio-group",{model:{value:e.form.noticeType,callback:function(t){e.$set(e.form,"noticeType",t)},expression:"form.noticeType"}},[t("a-radio",{attrs:{value:"1"}},[e._v("通知")]),t("a-radio",{attrs:{value:"0"}},[e._v("公告")])],1)],1)],1),t("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[t("a-form-model-item",{attrs:{label:"状态"}},[e.modal.view?t("div",[t("a-tag",{attrs:{color:"1"===e.form.status?"green":"red"}},[e._v(e._s("1"===e.form.status?"正常":"关闭"))])],1):t("a-radio-group",{model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}},[t("a-radio",{attrs:{value:"1"}},[e._v("正常")]),t("a-radio",{attrs:{value:"0"}},[e._v("关闭")])],1)],1)],1),t("a-col",{attrs:{span:24}},[t("a-form-model-item",e._b({attrs:{label:"公告内容",prop:e.modal.view?"":"noticeContent"}},"a-form-model-item",{labelCol:{span:3},wrapperCol:{span:21}},!1),[e.modal.view?t("div",[e._v(e._s(e.form.noticeContent))]):t("a-textarea",{attrs:{rows:5,placeholder:"请填写公告/通知内容"},model:{value:e.form.noticeContent,callback:function(t){e.$set(e.form,"noticeContent",t)},expression:"form.noticeContent"}})],1)],1),e.modal.view?[t("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[t("a-form-model-item",{attrs:{label:"创建者"}},[e._v(e._s(e.form.createBy))])],1),t("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[t("a-form-model-item",{attrs:{label:"创建时间"}},[e._v(e._s(e.form.createTime))])],1)]:e._e()],2)],1)],1)],1)},n=[],i=(o("a15b"),o("d81d"),o("d3b7"),{name:"Notice",data:function(){return{loading:!1,form:{noticeId:void 0,noticeTitle:void 0,noticeType:"1",status:"1",noticeContent:void 0,createBy:void 0,createTime:void 0},rules:{noticeTitle:[{required:!0,message:"请填写公告/通知标题",trigger:"blur"}],noticeContent:[{required:!0,message:"请填写公告/通知内容",trigger:"blur"}]},formItemLayout:{labelCol:{span:6},wrapperCol:{span:18}},columns:[{title:"序号",dataIndex:"noticeId",align:"center",width:60},{title:"公告标题",dataIndex:"noticeTitle",width:200,ellipsis:!0},{title:"公告类型",dataIndex:"noticeType",align:"center",scopedSlots:{customRender:"noticeType"},render:function(e){return"1"===e.noticeType?"通知":"公告"},width:100},{title:"状态",dataIndex:"status",align:"center",scopedSlots:{customRender:"status"},render:function(e){return"1"===e.status?"正常":"关闭"},width:100},{title:"内容",dataIndex:"noticeContent",ellipsis:!0},{title:"创建者",dataIndex:"createBy",width:100},{title:"创建时间",dataIndex:"createTime",align:"center",width:160},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"},fixed:"right",width:220}],tableData:[],tableSize:"middle",pagination:{total:0,current:1,pageSize:10,showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"共".concat(e,"条")}},modal:{show:!1,view:!1,title:""},selectedRows:[],selectedRowKeys:[]}},created:function(){this.getNoticeList()},methods:{getNoticeList:function(){var e=this;this.loading=!0,setTimeout((function(){e.tableData=[{createBy:"管理员",createTime:"2022-09-20 10:20:56",updateBy:"管理员",updateTime:"2022-09-20 10:25:02",remark:null,noticeId:"1",noticeTitle:"停机公告",noticeType:"1",noticeContent:"10.04 凌晨 03:00 - 07:00 ，网站服务器维护",status:"1",tenantId:null}],e.loading=!1}),500)},addNotice:function(){this.form={noticeType:"1",status:"1"},this.modal={show:!0,view:!1,title:"添加公告"}},delNotices:function(){var e=this,t=this.$createElement;this.selectedRows.length?this.$confirm({title:"删除确认",okType:"danger",content:t("span",["您确认要删除公告 ",t("strong",[this.selectedRows.map((function(e){return e.noticeTitle})).join("，")])," ？"]),loading:!0,onOk:function(){return new Promise((function(t){setTimeout((function(){e.$message.error("抱歉，您没有该权限"),t()}),800)}))}}):this.$message.error("您没有选择公告")},viewNotice:function(e){this.form=e,this.modal={show:!0,view:!0,title:"查看公告"}},editNotice:function(e){this.form=e,this.modal={show:!0,view:!1,title:"编辑公告"}},deleteNotice:function(e){var t=this,o=this.$createElement;this.$confirm({title:"删除确认",okType:"danger",content:o("span",["您确认要删除公告 ",o("strong",[e.noticeTitle])," ？"]),loading:!0,onOk:function(){return new Promise((function(e){setTimeout((function(){t.$message.error("抱歉，您没有该权限"),e()}),800)}))}})},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},handleOkModal:function(){var e=this;this.$refs.form.validate((function(t){t&&(e.modal.show=!1)}))},handleCancel:function(){this.modal.show=!1,this.modal.view||this.$refs.form.resetFields()}}}),s=i,l=o("2877"),r=Object(l["a"])(s,a,n,!1,null,null,null);t["default"]=r.exports}}]);
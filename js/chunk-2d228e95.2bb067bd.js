(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d228e95"],{dace:function(t,e,o){"use strict";o.r(e);var a=function(){var t=this,e=t._self._c;return e("a-card",{attrs:{bordered:!1}},[e("TableTool",{attrs:{"show-alert":!0,dataSource:t.tableData,"table-size":t.tableSize,selectRows:t.selectedRows,selectKeys:t.selectedRowKeys},on:{"update:tableSize":function(e){t.tableSize=e},"update:table-size":function(e){t.tableSize=e},"update:selectRows":function(e){t.selectedRows=e},"update:select-rows":function(e){t.selectedRows=e},"update:selectKeys":function(e){t.selectedRowKeys=e},"update:select-keys":function(e){t.selectedRowKeys=e},refreshTable:t.getNoticeList},scopedSlots:t._u([{key:"table",fn:function(){return[e("a-table",{attrs:{tableLayout:"fixed",rowKey:function(t){return t.noticeId},size:t.tableSize,columns:t.columns,dataSource:t.tableData,pagination:t.pagination,loading:{spinning:t.loading,tip:"加载中..."},rowSelection:{selectedRowKeys:t.selectedRowKeys,onChange:t.onSelectChange}},scopedSlots:t._u([{key:"noticeType",fn:function(o,a){return[e("a-tag",{attrs:{color:"1"===a.noticeType?"orange":"blue"}},[t._v(t._s("1"===a.noticeType?"通知":"公告"))])]}},{key:"status",fn:function(o,a){return[e("a-tag",{attrs:{color:"1"===a.status?"green":"red"}},[t._v(t._s("1"===a.status?"正常":"关闭"))])]}},{key:"action",fn:function(o,a){return[e("a",{on:{click:function(e){return t.viewNotice(a)}}},[e("a-icon",{attrs:{type:"eye"}}),e("span",{staticClass:"ant-ml-4"},[t._v("查看")])],1),e("a-divider",{attrs:{type:"vertical"}}),e("a",{on:{click:function(e){return t.editNotice(a)}}},[e("a-icon",{attrs:{type:"edit"}}),e("span",{staticClass:"ant-ml-4"},[t._v("编辑")])],1),e("a-divider",{attrs:{type:"vertical"}}),e("a",{directives:[{name:"color",rawName:"v-color",value:"red",expression:"'red'"}],on:{click:function(e){return t.deleteNotice(a)}}},[e("a-icon",{attrs:{type:"delete"}}),e("span",{staticClass:"ant-ml-4"},[t._v("删除")])],1)]}}])})]},proxy:!0}]),model:{value:t.columns,callback:function(e){t.columns=e},expression:"columns"}},[e("a-button",{attrs:{type:"primary",icon:"plus",ghost:""},on:{click:t.addNotice}},[t._v("添加公告")]),e("a-button",{attrs:{type:"danger",icon:"delete",ghost:""},on:{click:t.delNotices}},[t._v("批量删除")])],1),e("a-modal",{attrs:{visible:t.modal.show,width:720,title:t.modal.title,keyboard:!1,maskClosable:!1},on:{cancel:t.handleCancel},scopedSlots:t._u([{key:"footer",fn:function(){return[e("a-space",[e("a-button",{on:{click:t.handleCancel}},[t._v(t._s(t.modal.view?"关闭":"取消"))]),t.modal.view?t._e():e("a-button",{attrs:{type:"primary"},on:{click:t.handleOkModal}},[t._v("提交")])],1)]},proxy:!0}])},[e("a-form",t._b({ref:"form",attrs:{model:t.form,rules:t.rules}},"a-form",t.formItemLayout,!1),[e("a-row",{attrs:{gutter:12,type:"flex"}},[e("a-col",{attrs:{span:24}},[e("a-form-item",t._b({attrs:{label:"公告标题",prop:t.modal.view?"":"noticeTitle"}},"a-form-item",{labelCol:{span:3},wrapperCol:{span:21}},!1),[t.modal.view?e("div",[t._v(t._s(t.form.noticeTitle))]):e("a-input",{attrs:{placeholder:"请填写公告/通知标题"},model:{value:t.form.noticeTitle,callback:function(e){t.$set(t.form,"noticeTitle",e)},expression:"form.noticeTitle"}})],1)],1),e("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[e("a-form-item",{attrs:{label:"公告类型"}},[t.modal.view?e("div",[e("a-tag",{attrs:{color:"1"===t.form.noticeType?"orange":"blue"}},[t._v(t._s("1"===t.form.noticeType?"通知":"公告"))])],1):e("a-radio-group",{model:{value:t.form.noticeType,callback:function(e){t.$set(t.form,"noticeType",e)},expression:"form.noticeType"}},[e("a-radio",{attrs:{value:"1"}},[t._v("通知")]),e("a-radio",{attrs:{value:"0"}},[t._v("公告")])],1)],1)],1),e("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[e("a-form-item",{attrs:{label:"状态"}},[t.modal.view?e("div",[e("a-tag",{attrs:{color:"1"===t.form.status?"green":"red"}},[t._v(t._s("1"===t.form.status?"正常":"关闭"))])],1):e("a-radio-group",{model:{value:t.form.status,callback:function(e){t.$set(t.form,"status",e)},expression:"form.status"}},[e("a-radio",{attrs:{value:"1"}},[t._v("正常")]),e("a-radio",{attrs:{value:"0"}},[t._v("关闭")])],1)],1)],1),e("a-col",{attrs:{span:24}},[e("a-form-item",t._b({attrs:{label:"公告内容",prop:t.modal.view?"":"noticeContent"}},"a-form-item",{labelCol:{span:3},wrapperCol:{span:21}},!1),[t.modal.view?e("div",[t._v(t._s(t.form.noticeContent))]):e("a-textarea",{attrs:{rows:5,placeholder:"请填写公告/通知内容"},model:{value:t.form.noticeContent,callback:function(e){t.$set(t.form,"noticeContent",e)},expression:"form.noticeContent"}})],1)],1),t.modal.view?[e("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[e("a-form-item",{attrs:{label:"创建者"}},[t._v(t._s(t.form.createBy))])],1),e("a-col",{attrs:{xl:12,lg:12,md:12,sm:24,xs:24}},[e("a-form-item",{attrs:{label:"创建时间"}},[t._v(t._s(t.form.createTime))])],1)]:t._e()],2)],1)],1)],1)},n=[],i=o("5530"),s=(o("a15b"),o("d81d"),o("d3b7"),{name:"Notice",data:function(){return{loading:!1,form:{noticeId:void 0,noticeTitle:void 0,noticeType:"1",status:"1",noticeContent:void 0,createBy:void 0,createTime:void 0},formString:"",rules:{noticeTitle:[{required:!0,message:"请填写公告/通知标题",trigger:"blur"}],noticeContent:[{required:!0,message:"请填写公告/通知内容",trigger:"blur"}]},formItemLayout:{labelCol:{span:6},wrapperCol:{span:18}},columns:[{title:"序号",dataIndex:"noticeId",align:"center",width:60},{title:"公告标题",dataIndex:"noticeTitle",width:200,ellipsis:!0},{title:"公告类型",dataIndex:"noticeType",align:"center",scopedSlots:{customRender:"noticeType"},render:function(t){return"1"===t.noticeType?"通知":"公告"},width:100},{title:"状态",dataIndex:"status",align:"center",scopedSlots:{customRender:"status"},render:function(t){return"1"===t.status?"正常":"关闭"},width:100},{title:"内容",dataIndex:"noticeContent",ellipsis:!0},{title:"创建者",dataIndex:"createBy",width:100},{title:"创建时间",dataIndex:"createTime",align:"center",width:160},{title:"操作",dataIndex:"action",align:"center",scopedSlots:{customRender:"action"},fixed:"right",width:220}],tableData:[],tableSize:"middle",pagination:{total:0,current:1,pageSize:10,showQuickJumper:!0,showSizeChanger:!0,showTotal:function(t){return"共".concat(t,"条")}},modal:{show:!1,view:!1,title:""},selectedRows:[],selectedRowKeys:[]}},created:function(){this.getNoticeList()},methods:{getNoticeList:function(){var t=this;this.loading=!0,setTimeout((function(){t.tableData=[{createBy:"管理员",createTime:"2022-09-20 10:20:56",updateBy:"管理员",updateTime:"2022-09-20 10:25:02",remark:null,noticeId:"1",noticeTitle:"停机公告",noticeType:"1",noticeContent:"10.04 凌晨 03:00 - 07:00 ，网站服务器维护",status:"1",tenantId:null}],t.loading=!1}),500)},addNotice:function(){this.form={noticeType:"1",status:"1"},this.formString=JSON.stringify(this.form),this.modal={show:!0,view:!1,title:"添加公告"}},delNotices:function(){var t=this,e=this.$createElement;this.selectedRows.length?this.$confirm({title:"删除确认",okType:"danger",content:e("span",["您确认要删除公告 ",e("strong",[this.selectedRows.map((function(t){return t.noticeTitle})).join("，")])," ？"]),loading:!0,onOk:function(){return new Promise((function(e){setTimeout((function(){t.$message.error("抱歉，您没有该权限"),e()}),800)}))}}):this.$message.error("您没有选择公告")},viewNotice:function(t){this.form=Object(i["a"])({},t),this.modal={show:!0,view:!0,title:"查看公告"}},editNotice:function(t){this.form=Object(i["a"])({},t),this.formString=JSON.stringify(this.form),this.modal={show:!0,view:!1,title:"编辑公告"}},deleteNotice:function(t){var e=this,o=this.$createElement;this.$confirm({title:"删除确认",okType:"danger",content:o("span",["您确认要删除公告 ",o("strong",[t.noticeTitle])," ？"]),loading:!0,onOk:function(){return new Promise((function(t){setTimeout((function(){e.$message.error("抱歉，您没有该权限"),t()}),800)}))}})},onSelectChange:function(t,e){this.selectedRowKeys=t,this.selectedRows=e},handleOkModal:function(){var t=this;this.$refs.form.validate((function(e){e&&(t.modal.show=!1)}))},handleCancel:function(){var t=this,e=JSON.stringify(this.form);e===this.formString||this.modal.view?(this.modal.show=!1,this.modal.view||this.$refs.form.resetFields()):this.$confirm({title:"关闭确认",content:"检测到有内容进行过修改，是否直接关闭？",onOk:function(){t.modal.show=!1},onCancel:function(){}})}}}),r=s,l=o("2877"),c=Object(l["a"])(r,a,n,!1,null,null,null);e["default"]=c.exports}}]);
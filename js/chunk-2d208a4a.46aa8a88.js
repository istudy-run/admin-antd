(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d208a4a"],{a654:function(e,t,o){"use strict";o.r(t);var a=function(){var e=this,t=e._self._c;return t("a-card",{attrs:{bordered:!1}},[t("TableTool",{attrs:{"show-alert":!0,dataSource:e.tableData,"table-size":e.tableSize,selectRows:e.selectedRows,selectKeys:e.selectedRowKeys},on:{"update:tableSize":function(t){e.tableSize=t},"update:table-size":function(t){e.tableSize=t},"update:selectRows":function(t){e.selectedRows=t},"update:select-rows":function(t){e.selectedRows=t},"update:selectKeys":function(t){e.selectedRowKeys=t},"update:select-keys":function(t){e.selectedRowKeys=t},refreshTable:e.getRoleList},scopedSlots:e._u([{key:"table",fn:function(){return[t("a-table",{attrs:{tableLayout:"fixed",rowKey:function(e){return e.id},size:e.tableSize,columns:e.columns,dataSource:e.tableData,pagination:e.pagination,loading:{spinning:e.loading,tip:"加载中..."},rowSelection:{selectedRowKeys:e.selectedRowKeys,onChange:e.onSelectChange}},scopedSlots:e._u([{key:"defaultRole",fn:function(o,a){return[t("a-tag",{attrs:{color:"1"===a.defaultRole?"green":"red"}},[e._v(e._s("1"===a.defaultRole?"是":"否")+" ")])]}},{key:"action",fn:function(o,a){return[t("a",{on:{click:function(t){return e.editAuth(a)}}},[t("a-icon",{attrs:{type:"align-left"}}),t("span",{staticClass:"ant-ml-4"},[e._v("菜单权限")])],1),t("a-divider",{attrs:{type:"vertical"}}),t("a",{on:{click:function(t){return e.editRole(a)}}},[t("a-icon",{attrs:{type:"edit"}}),t("span",{staticClass:"ant-ml-4"},[e._v("编辑")])],1),t("a-divider",{attrs:{type:"vertical"}}),t("a",{directives:[{name:"color",rawName:"v-color",value:"red",expression:"'red'"}],on:{click:function(t){return e.deleteRole(a)}}},[t("a-icon",{attrs:{type:"delete"}}),t("span",{staticClass:"ant-ml-4"},[e._v("删除")])],1)]}}])})]},proxy:!0}]),model:{value:e.columns,callback:function(t){e.columns=t},expression:"columns"}},[t("a-button",{attrs:{type:"primary",icon:"plus",ghost:""},on:{click:e.addRole}},[e._v("添加角色")]),t("a-button",{attrs:{type:"danger",icon:"delete",ghost:""},on:{click:e.delRoles}},[e._v("批量删除")])],1),t("a-modal",{attrs:{title:e.modal.title,keyboard:!1,maskClosable:!1,bodyStyle:e.modalBodyStyle},on:{ok:e.handleOkModal},model:{value:e.modal.show,callback:function(t){e.$set(e.modal,"show",t)},expression:"modal.show"}})],1)},n=[],i=o("5530"),l=(o("a15b"),o("d81d"),o("b0c0"),o("d3b7"),{name:"Dept",data:function(){return{loading:!1,modalLoading:!1,columns:[{title:"序号",dataIndex:"index",align:"center",customRender:function(e,t,o){return o+1},width:60},{title:"角色名称",dataIndex:"name",width:180},{title:"说明",dataIndex:"desc"},{title:"创建时间",dataIndex:"createTime",width:180},{title:"更新时间",dataIndex:"updateTime",width:180},{title:"是否默认角色",dataIndex:"defaultRole",scopedSlots:{customRender:"defaultRole"},width:140},{title:"操作",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center",fixed:"right",width:240}],tableData:[],tableSize:"middle",pagination:{total:0,current:1,pageSize:10,showQuickJumper:!0,showSizeChanger:!0,showTotal:function(e){return"共".concat(e,"条")}},modal:{show:!1,title:""},roleForm:{},roleFormRules:{},selectedRows:[],selectedRowKeys:[]}},computed:{modalBodyStyle:function(){return{height:"".concat(document.body.clientHeight-400,"px"),overflow:"auto"}}},created:function(){this.getRoleList()},methods:{getRoleList:function(){var e=this;this.loading=!0,setTimeout((function(){e.tableData=[{id:2000000001,name:"ROLE_USER",desc:"普通用户",createTime:"2020-01-01 12:01:25",updateTime:"2020-01-02 13:10:33",defaultRole:"1"},{id:2000000002,name:"ROLE_OP",desc:"运营用户",createTime:"2020-01-02 08:12:43",updateTime:"2020-01-04 22:12:28",defaultRole:"0"},{id:2000000003,name:"ROLE_ADMIN",desc:"管理员用户",createTime:"2020-01-03 12:44:19",updateTime:"2020-01-06 14:02:22",defaultRole:"0"}],e.loading=!1}),500)},addRole:function(){this.roleForm={defaultRole:"0"},this.drawer=Object(i["a"])(Object(i["a"])({},this.drawer),{},{title:"添加角色",show:!0})},delRoles:function(){var e=this;this.selectedRows.length?this.$confirm({title:"删除确认",content:"您确认要删除角色 ".concat(this.selectedRows.map((function(e){return e.name})).join("，")," ？"),loading:!0,onOk:function(){return new Promise((function(t){setTimeout((function(){e.$message.error("抱歉，您没有该权限"),t()}),800)}))}}):this.$message.error("您没有选择角色")},editAuth:function(e){},editRole:function(e){this.roleForm=e,this.drawer=Object(i["a"])(Object(i["a"])({},this.drawer),{},{title:"编辑角色",show:!0})},deleteRole:function(e){var t=this;this.$confirm({title:"删除确认",content:"您确认要删除角色 ".concat(e.name," ？"),loading:!0,onOk:function(){return new Promise((function(e){setTimeout((function(){t.$message.error("抱歉，您没有该权限"),e()}),800)}))}})},onSelectChange:function(e,t){this.selectedRowKeys=e,this.selectedRows=t},handleOkModal:function(){var e=this;this.modalLoading=!0,setTimeout((function(){e.modalLoading=!1,e.modal.show=!1}),800)}}}),s=l,d=o("2877"),c=Object(d["a"])(s,a,n,!1,null,null,null);t["default"]=c.exports}}]);
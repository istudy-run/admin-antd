(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ef28b556"],{"00d87":function(t,e){(function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n={rotl:function(t,e){return t<<e|t>>>32-e},rotr:function(t,e){return t<<32-e|t>>>e},endian:function(t){if(t.constructor==Number)return 16711935&n.rotl(t,8)|4278255360&n.rotl(t,24);for(var e=0;e<t.length;e++)t[e]=n.endian(t[e]);return t},randomBytes:function(t){for(var e=[];t>0;t--)e.push(Math.floor(256*Math.random()));return e},bytesToWords:function(t){for(var e=[],n=0,r=0;n<t.length;n++,r+=8)e[r>>>5]|=t[n]<<24-r%32;return e},wordsToBytes:function(t){for(var e=[],n=0;n<32*t.length;n+=8)e.push(t[n>>>5]>>>24-n%32&255);return e},bytesToHex:function(t){for(var e=[],n=0;n<t.length;n++)e.push((t[n]>>>4).toString(16)),e.push((15&t[n]).toString(16));return e.join("")},hexToBytes:function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(parseInt(t.substr(n,2),16));return e},bytesToBase64:function(t){for(var n=[],r=0;r<t.length;r+=3)for(var i=t[r]<<16|t[r+1]<<8|t[r+2],o=0;o<4;o++)8*r+6*o<=8*t.length?n.push(e.charAt(i>>>6*(3-o)&63)):n.push("=");return n.join("")},base64ToBytes:function(t){t=t.replace(/[^A-Z0-9+\/]/gi,"");for(var n=[],r=0,i=0;r<t.length;i=++r%4)0!=i&&n.push((e.indexOf(t.charAt(r-1))&Math.pow(2,-2*i+8)-1)<<2*i|e.indexOf(t.charAt(r))>>>6-2*i);return n}};t.exports=n})()},"044b":function(t,e){function n(t){return!!t.constructor&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function r(t){return"function"===typeof t.readFloatLE&&"function"===typeof t.slice&&n(t.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
t.exports=function(t){return null!=t&&(n(t)||r(t)||!!t._isBuffer)}},"0fea":function(t,e,n){"use strict";n.d(e,"d",(function(){return d})),n.d(e,"e",(function(){return h})),n.d(e,"c",(function(){return p})),n.d(e,"b",(function(){return m})),n.d(e,"a",(function(){return g}));var r=n("b775"),i=n("53ca"),o=n("d4ec"),a=n("bee2"),s=(n("4e82"),n("ac1f"),n("caad"),n("2532"),n("d3b7"),n("25f0"),n("b64b"),n("6821")),c=n.n(s),u="dd05f1c54d63749eda95f9fa6d49v442a",l=function(){function t(){Object(o["a"])(this,t)}return Object(a["a"])(t,null,[{key:"sortAsc",value:function(t){var e=[],n=0;for(var r in t)e[n]=r,n++;var i=e.sort(),o={};for(var a in i)o[i[a]]=t[i[a]];return o}},{key:"getSign",value:function(t,e){var n=this.parseQueryString(t),r=this.mergeObject(n,e),i=this.sortAsc(r);return c()(JSON.stringify(i)+u).toUpperCase()}},{key:"parseQueryString",value:function(t){var e=/^[^\?]+\?([\w\W]+)$/,n=/([^&=]+)=([\w\W]*?)(&|$|#)/g,r=e.exec(t),i={},o=t.substring(t.lastIndexOf("/")+1);if(o.includes(",")&&(o.includes("?")&&(o=o.substring(0,o.indexOf("?"))),i["x-path-variable"]=decodeURIComponent(o)),r&&r[1]){var a,s=r[1];while(null!==(a=n.exec(s)))this.myIsNaN(a[2])&&(a[2]=a[2].toString()),i[a[1]]=a[2]}return i}},{key:"mergeObject",value:function(t,e){if(e&&Object.keys(e).length>0)for(var n in e)!0===e.hasOwnProperty(n)&&(this.myIsNaN(e[n])&&(e[n]=e[n].toString()),t[n]=e[n]);return t}},{key:"urlEncode",value:function(t,e,n){if(null===t)return"";var r="",o=Object(i["a"])(t);if("string"===o||"number"===o||"boolean"===o)r+="&"+e+"="+(null===n||n?encodeURIComponent(t):t);else for(var a in t){var s=null===e?a:e+(t instanceof Array?"["+a+"]":"."+a);r+=this.urlEncode(t[a],s,n)}return r}},{key:"getDateTimeToString",value:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();n<10&&(n="0"+n),r<10&&(r="0"+r);var i=t.getHours(),o=t.getMinutes(),a=t.getSeconds(),s=t.getMilliseconds();return i<10&&(i="0"+i),o<10&&(o="0"+o),a<10&&(a="0"+a),s<10&&(a="0"+s),e+""+n+r+i+o+a}},{key:"myIsNaN",value:function(t){return"number"===typeof t&&!isNaN(t)}}]),t}(),f={user:"/user",role:"/role",service:"/service",permission:"/permission",permissionNoPager:"/permission/no-pager",orgTree:"/org/tree"};function d(t){return Object(r["b"])({url:f.role,method:"get",params:t})}function h(t){return Object(r["b"])({url:f.service,method:"get",params:t})}function p(t){return Object(r["b"])({url:f.permissionNoPager,method:"get",params:t})}function m(t){return Object(r["b"])({url:f.orgTree,method:"get",params:t})}function g(t,e){var n=l.getSign(t,e),i={"X-Sign":n,"X-TIMESTAMP":l.getDateTimeToString()};return Object(r["b"])({url:t,method:"get",params:e,headers:i})}},6821:function(t,e,n){(function(){var e=n("00d87"),r=n("9a634").utf8,i=n("044b"),o=n("9a634").bin,a=function(t,n){t.constructor==String?t=n&&"binary"===n.encoding?o.stringToBytes(t):r.stringToBytes(t):i(t)?t=Array.prototype.slice.call(t,0):Array.isArray(t)||t.constructor===Uint8Array||(t=t.toString());for(var s=e.bytesToWords(t),c=8*t.length,u=1732584193,l=-271733879,f=-1732584194,d=271733878,h=0;h<s.length;h++)s[h]=16711935&(s[h]<<8|s[h]>>>24)|4278255360&(s[h]<<24|s[h]>>>8);s[c>>>5]|=128<<c%32,s[14+(c+64>>>9<<4)]=c;var p=a._ff,m=a._gg,g=a._hh,v=a._ii;for(h=0;h<s.length;h+=16){var b=u,y=l,O=f,w=d;u=p(u,l,f,d,s[h+0],7,-680876936),d=p(d,u,l,f,s[h+1],12,-389564586),f=p(f,d,u,l,s[h+2],17,606105819),l=p(l,f,d,u,s[h+3],22,-1044525330),u=p(u,l,f,d,s[h+4],7,-176418897),d=p(d,u,l,f,s[h+5],12,1200080426),f=p(f,d,u,l,s[h+6],17,-1473231341),l=p(l,f,d,u,s[h+7],22,-45705983),u=p(u,l,f,d,s[h+8],7,1770035416),d=p(d,u,l,f,s[h+9],12,-1958414417),f=p(f,d,u,l,s[h+10],17,-42063),l=p(l,f,d,u,s[h+11],22,-1990404162),u=p(u,l,f,d,s[h+12],7,1804603682),d=p(d,u,l,f,s[h+13],12,-40341101),f=p(f,d,u,l,s[h+14],17,-1502002290),l=p(l,f,d,u,s[h+15],22,1236535329),u=m(u,l,f,d,s[h+1],5,-165796510),d=m(d,u,l,f,s[h+6],9,-1069501632),f=m(f,d,u,l,s[h+11],14,643717713),l=m(l,f,d,u,s[h+0],20,-373897302),u=m(u,l,f,d,s[h+5],5,-701558691),d=m(d,u,l,f,s[h+10],9,38016083),f=m(f,d,u,l,s[h+15],14,-660478335),l=m(l,f,d,u,s[h+4],20,-405537848),u=m(u,l,f,d,s[h+9],5,568446438),d=m(d,u,l,f,s[h+14],9,-1019803690),f=m(f,d,u,l,s[h+3],14,-187363961),l=m(l,f,d,u,s[h+8],20,1163531501),u=m(u,l,f,d,s[h+13],5,-1444681467),d=m(d,u,l,f,s[h+2],9,-51403784),f=m(f,d,u,l,s[h+7],14,1735328473),l=m(l,f,d,u,s[h+12],20,-1926607734),u=g(u,l,f,d,s[h+5],4,-378558),d=g(d,u,l,f,s[h+8],11,-2022574463),f=g(f,d,u,l,s[h+11],16,1839030562),l=g(l,f,d,u,s[h+14],23,-35309556),u=g(u,l,f,d,s[h+1],4,-1530992060),d=g(d,u,l,f,s[h+4],11,1272893353),f=g(f,d,u,l,s[h+7],16,-155497632),l=g(l,f,d,u,s[h+10],23,-1094730640),u=g(u,l,f,d,s[h+13],4,681279174),d=g(d,u,l,f,s[h+0],11,-358537222),f=g(f,d,u,l,s[h+3],16,-722521979),l=g(l,f,d,u,s[h+6],23,76029189),u=g(u,l,f,d,s[h+9],4,-640364487),d=g(d,u,l,f,s[h+12],11,-421815835),f=g(f,d,u,l,s[h+15],16,530742520),l=g(l,f,d,u,s[h+2],23,-995338651),u=v(u,l,f,d,s[h+0],6,-198630844),d=v(d,u,l,f,s[h+7],10,1126891415),f=v(f,d,u,l,s[h+14],15,-1416354905),l=v(l,f,d,u,s[h+5],21,-57434055),u=v(u,l,f,d,s[h+12],6,1700485571),d=v(d,u,l,f,s[h+3],10,-1894986606),f=v(f,d,u,l,s[h+10],15,-1051523),l=v(l,f,d,u,s[h+1],21,-2054922799),u=v(u,l,f,d,s[h+8],6,1873313359),d=v(d,u,l,f,s[h+15],10,-30611744),f=v(f,d,u,l,s[h+6],15,-1560198380),l=v(l,f,d,u,s[h+13],21,1309151649),u=v(u,l,f,d,s[h+4],6,-145523070),d=v(d,u,l,f,s[h+11],10,-1120210379),f=v(f,d,u,l,s[h+2],15,718787259),l=v(l,f,d,u,s[h+9],21,-343485551),u=u+b>>>0,l=l+y>>>0,f=f+O>>>0,d=d+w>>>0}return e.endian([u,l,f,d])};a._ff=function(t,e,n,r,i,o,a){var s=t+(e&n|~e&r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._gg=function(t,e,n,r,i,o,a){var s=t+(e&r|n&~r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._hh=function(t,e,n,r,i,o,a){var s=t+(e^n^r)+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._ii=function(t,e,n,r,i,o,a){var s=t+(n^(e|~r))+(i>>>0)+a;return(s<<o|s>>>32-o)+e},a._blocksize=16,a._digestsize=16,t.exports=function(t,n){if(void 0===t||null===t)throw new Error("Illegal argument "+t);var r=e.wordsToBytes(a(t,n));return n&&n.asBytes?r:n&&n.asString?o.bytesToString(r):e.bytesToHex(r)}})()},"88bc":function(t,e,n){(function(e){var n=1/0,r=9007199254740991,i="[object Arguments]",o="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",c="object"==typeof e&&e&&e.Object===Object&&e,u="object"==typeof self&&self&&self.Object===Object&&self,l=c||u||Function("return this")();function f(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function d(t,e){var n=-1,r=t?t.length:0,i=Array(r);while(++n<r)i[n]=e(t[n],n,t);return i}function h(t,e){var n=-1,r=e.length,i=t.length;while(++n<r)t[i+n]=e[n];return t}var p=Object.prototype,m=p.hasOwnProperty,g=p.toString,v=l.Symbol,b=p.propertyIsEnumerable,y=v?v.isConcatSpreadable:void 0,O=Math.max;function w(t,e,n,r,i){var o=-1,a=t.length;n||(n=T),i||(i=[]);while(++o<a){var s=t[o];e>0&&n(s)?e>1?w(s,e-1,n,r,i):h(i,s):r||(i[i.length]=s)}return i}function j(t,e){return t=Object(t),S(t,e,(function(e,n){return n in t}))}function S(t,e,n){var r=-1,i=e.length,o={};while(++r<i){var a=e[r],s=t[a];n(s,a)&&(o[a]=s)}return o}function k(t,e){return e=O(void 0===e?t.length-1:e,0),function(){var n=arguments,r=-1,i=O(n.length-e,0),o=Array(i);while(++r<i)o[r]=n[e+r];r=-1;var a=Array(e+1);while(++r<e)a[r]=n[r];return a[e]=o,f(t,this,a)}}function T(t){return A(t)||x(t)||!!(y&&t&&t[y])}function _(t){if("string"==typeof t||M(t))return t;var e=t+"";return"0"==e&&1/t==-n?"-0":e}function x(t){return I(t)&&m.call(t,"callee")&&(!b.call(t,"callee")||g.call(t)==i)}var A=Array.isArray;function C(t){return null!=t&&E(t.length)&&!B(t)}function I(t){return R(t)&&C(t)}function B(t){var e=N(t)?g.call(t):"";return e==o||e==a}function E(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}function N(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function R(t){return!!t&&"object"==typeof t}function M(t){return"symbol"==typeof t||R(t)&&g.call(t)==s}var P=k((function(t,e){return null==t?{}:j(t,d(w(e,1),_))}));t.exports=P}).call(this,n("c8ba"))},"8d18":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t._self._c;return e("a-card",{attrs:{bordered:!1}},[e("div",{staticClass:"table-page-search-wrapper"},[e("a-form",{attrs:{layout:"inline"}},[e("a-row",{attrs:{gutter:48}},[e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"角色ID"}},[e("a-input",{attrs:{placeholder:"请输入"}})],1)],1),e("a-col",{attrs:{md:8,sm:24}},[e("a-form-item",{attrs:{label:"状态"}},[e("a-select",{attrs:{placeholder:"请选择","default-value":"0"}},[e("a-select-option",{attrs:{value:"0"}},[t._v("全部")]),e("a-select-option",{attrs:{value:"1"}},[t._v("正常")]),e("a-select-option",{attrs:{value:"2"}},[t._v("禁用")])],1)],1)],1),e("a-col",{attrs:{md:8,sm:24}},[e("span",{staticClass:"table-page-search-submitButtons"},[e("a-button",{attrs:{type:"primary"}},[t._v("查询")]),e("a-button",{staticStyle:{"margin-left":"8px"}},[t._v("重置")])],1)])],1)],1)],1),e("s-table",{ref:"table",attrs:{size:"default",columns:t.columns,data:t.loadData},scopedSlots:t._u([{key:"expandedRowRender",fn:function(n){return e("div",{staticStyle:{margin:"0"}},[e("a-row",{style:{marginBottom:"12px"},attrs:{gutter:24}},t._l(n.permissions,(function(n,r){return e("a-col",{key:r,style:{marginBottom:"12px"},attrs:{span:12}},[e("a-col",{attrs:{span:4}},[e("span",[t._v(t._s(n.permissionName)+"：")])]),n.actionEntitySet.length>0?e("a-col",{attrs:{span:20}},t._l(n.actionEntitySet,(function(n,r){return e("a-tag",{key:r,attrs:{color:"cyan"}},[t._v(t._s(n.describe))])})),1):e("a-col",{attrs:{span:20}},[t._v("-")])],1)})),1)],1)}},{key:"action",fn:function(n,r){return e("span",{},[e("a",{on:{click:function(e){return t.$refs.modal.edit(r)}}},[t._v("编辑")]),e("a-divider",{attrs:{type:"vertical"}}),e("a-dropdown",[e("a",{staticClass:"ant-dropdown-link"},[t._v(" 更多 "),e("a-icon",{attrs:{type:"down"}})],1),e("a-menu",{attrs:{slot:"overlay"},slot:"overlay"},[e("a-menu-item",[e("a",{attrs:{href:"javascript:;"}},[t._v("详情")])]),e("a-menu-item",[e("a",{attrs:{href:"javascript:;"}},[t._v("禁用")])]),e("a-menu-item",[e("a",{attrs:{href:"javascript:;"}},[t._v("删除")])])],1)],1)],1)}}])}),e("role-modal",{ref:"modal",on:{ok:t.handleOk}})],1)},i=[],o=(n("d3b7"),n("159b"),n("d81d"),n("2af9")),a=function(){var t=this,e=t._self._c;return e("a-modal",{attrs:{title:"操作",width:800,visible:t.visible,confirmLoading:t.confirmLoading},on:{ok:t.handleOk,cancel:t.handleCancel}},[e("a-steps",{attrs:{current:1}},[e("a-step",[e("template",{slot:"title"},[t._v(" Finished ")]),e("span",{attrs:{slot:"description"},slot:"description"},[t._v("This is a description.")])],2),e("a-step",{attrs:{title:"In Progress",description:"This is a description."}}),e("a-step",{attrs:{title:"Waiting",description:"This is a description."}})],1)],1)},s=[],c=n("0fea"),u=n("88bc"),l=n.n(u),f={name:"RoleModal",data:function(){return{labelCol:{xs:{span:24},sm:{span:5}},wrapperCol:{xs:{span:24},sm:{span:16}},visible:!1,confirmLoading:!1,mdl:{},form:this.$form.createForm(this),permissions:[]}},created:function(){this.loadPermissions()},methods:{add:function(){this.edit({id:0})},edit:function(t){var e=this;if(this.mdl=Object.assign({},t),this.visible=!0,this.mdl.permissions&&this.permissions){var n={};this.mdl.permissions.forEach((function(t){n[t.permissionId]=t.actionEntitySet.map((function(t){return t.action}))})),this.permissions.forEach((function(t){t.selected=n[t.id]||[]}))}this.$nextTick((function(){e.form.setFieldsValue(l()(e.mdl,"id","name","status","describe"))})),console.log("this.mdl",this.mdl)},close:function(){this.$emit("close"),this.visible=!1},handleOk:function(){var t=this;this.form.validateFields((function(e,n){e||(console.log("form values",n),t.confirmLoading=!0,new Promise((function(t){setTimeout((function(){return t()}),2e3)})).then((function(){t.$message.success("保存成功"),t.$emit("ok")})).catch((function(){})).finally((function(){t.confirmLoading=!1,t.close()})))}))},handleCancel:function(){this.close()},onChangeCheck:function(t){t.indeterminate=!!t.selected.length&&t.selected.length<t.actionsOptions.length,t.checkedAll=t.selected.length===t.actionsOptions.length},onChangeCheckAll:function(t,e){Object.assign(e,{selected:t.target.checked?e.actionsOptions.map((function(t){return t.value})):[],indeterminate:!1,checkedAll:t.target.checked})},loadPermissions:function(){var t=this;Object(c["c"])().then((function(e){var n=e.result;t.permissions=n.map((function(t){var e=JSON.parse(t.actionData);return t.checkedAll=!1,t.selected=[],t.indeterminate=!1,t.actionsOptions=e.map((function(t){return{label:t.describe,value:t.action}})),t}))}))}}},d=f,h=n("2877"),p=Object(h["a"])(d,a,s,!1,null,"a4addbb4",null),m=p.exports,g={name:"TableList",components:{STable:o["z"],RoleModal:m},data:function(){var t=this;return{description:"列表使用场景：后台管理中的权限管理以及角色管理，可用于基于 RBAC 设计的角色权限控制，颗粒度细到每一个操作类型。",visible:!1,form:null,mdl:{},advanced:!1,queryParam:{},columns:[{title:"唯一识别码",dataIndex:"id"},{title:"角色名称",dataIndex:"name"},{title:"状态",dataIndex:"status"},{title:"创建时间",dataIndex:"createTime",sorter:!0},{title:"操作",width:"150px",dataIndex:"action",scopedSlots:{customRender:"action"}}],loadData:function(e){return t.$http.get("/role",{params:Object.assign(e,t.queryParam)}).then((function(t){return t.result}))},selectedRowKeys:[],selectedRows:[]}},methods:{handleEdit:function(t){this.mdl=Object.assign({},t),this.mdl.permissions.forEach((function(t){t.actionsOptions=t.actionEntitySet.map((function(t){return{label:t.describe,value:t.action,defaultCheck:t.defaultCheck}}))})),console.log(this.mdl),this.visible=!0},handleOk:function(){this.$refs.table.refresh()},onChange:function(t,e){this.selectedRowKeys=t,this.selectedRows=e},toggleAdvanced:function(){this.advanced=!this.advanced}},watch:{}},v=g,b=Object(h["a"])(v,r,i,!1,null,null,null);e["default"]=b.exports},"9a634":function(t,e){var n={utf8:{stringToBytes:function(t){return n.bin.stringToBytes(unescape(encodeURIComponent(t)))},bytesToString:function(t){return decodeURIComponent(escape(n.bin.bytesToString(t)))}},bin:{stringToBytes:function(t){for(var e=[],n=0;n<t.length;n++)e.push(255&t.charCodeAt(n));return e},bytesToString:function(t){for(var e=[],n=0;n<t.length;n++)e.push(String.fromCharCode(t[n]));return e.join("")}}};t.exports=n}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0b5e1e"],{"1b90":function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t._self._c;return e("a-card",{attrs:{bordered:!1},scopedSlots:t._u([{key:"title",fn:function(){return[e("a-avatar",{staticStyle:{color:"#2f54eb",background:"#f0f5ff"},attrs:{icon:"alert",size:"small"}}),e("span",{staticClass:"ant-pl-8"},[t._v("前端日志")])]},proxy:!0},{key:"extra",fn:function(){return[e("a-tooltip",{attrs:{title:"导出日志",placement:"top"}},[e("a-button",{staticClass:"ant-mr-16",attrs:{type:"dashed",icon:"cloud-download"},on:{click:t.exportLog}})],1),e("a-tooltip",{attrs:{title:"清空日志",placement:"top"}},[e("a-button",{attrs:{type:"dashed",icon:"delete"},on:{click:t.cleanLog}})],1)]},proxy:!0}])},[e("div",{class:"".concat(t.$config.cssPrefix,"table-no-border")},[e("a-table",{ref:"table",attrs:{tableLayout:"fixed",rowKey:function(t){return t.index},columns:t.columns,dataSource:t.tableData,pagination:t.pagination},on:{change:t.handleTableChange},scopedSlots:t._u([{key:"expandedRowRender",fn:function(e){return[t._v(" "+t._s(e.message)+" ")]}},{key:"type",fn:function(n,a){return[e("a-tag",{attrs:{color:"error"===a.type?"red":"warn"===a.type?"orange":"blue"}},[t._v(t._s(a.type))])]}},{key:"page",fn:function(e,n){return[t._v(t._s(n.meta.url))]}},{key:"request",fn:function(e,n){return[t._v(t._s(n.meta.requestURL))]}},{key:"more",fn:function(n,a){return[e("a-button",{attrs:{size:"small",ghost:"",type:"primary"},on:{click:function(e){return t.viewLog(a)}}},[t._v("查看")])]}}])})],1)])},i=[],o=n("5530"),s=(n("4e82"),n("d81d"),n("fb6a"),n("9fb0")),r=n("5880"),c={name:"FrontLog",data:function(){var t=this;return{columns:[{title:"序号",align:"center",width:60,customRender:function(e,n,a){return t.tableIndex+a}},{title:"时间",dataIndex:"time",align:"center",width:160,sorter:!0},{title:"类型",dataIndex:"type",align:"center",width:100,scopedSlots:{customRender:"type"}},{title:"信息",ellipsis:!0,dataIndex:"message"},{title:"触发页面",scopedSlots:{customRender:"page"}},{title:"请求地址",scopedSlots:{customRender:"request"}},{title:"详细信息",align:"center",width:100,scopedSlots:{customRender:"more"}}],tableData:[],pagination:{total:0,current:1,pageSize:10,showQuickJumper:!0,showSizeChanger:!0,showTotal:function(t){return"共".concat(t,"条")}},currentPage:1,pageSize:10,timeOrder:"desc"}},computed:{tableIndex:function(){return(this.pagination.current-1)*this.pagination.pageSize+1},logList:function(){return this.$store.state.log.logList}},watch:{logList:{immediate:!0,handler:function(){this.pagination.total=this.logList.length,this.handleTableChange(this.pagination)}}},methods:Object(o["a"])(Object(o["a"])({},Object(r["mapMutations"])([s["b"]])),{},{handleTableChange:function(t){var e=this;this.pagination.current=t.current,this.pagination.pageSize=t.pageSize;var n=(t.current-1)*t.pageSize,a=this.logList.map((function(t){return Object(o["a"])(Object(o["a"])({},t),{},{timestamp:new Date(t.time)})})).sort((function(t,n){return"asc"===e.timeOrder?t.timestamp-n.timestamp:n.timestamp-t.timestamp}));this.tableData=a.slice(n,n+t.pageSize)},exportLog:function(){this.logList.length?this.$message.info(this.$config.developMsg):this.$message.info("没有日志或异常")},viewLog:function(t){this.$message.info("按F12打开控制台查看完整日志"),this.$console.capsule(this.$config.titleSuffix,"完整日志内容")}})},l=c,u=n("2877"),p=Object(u["a"])(l,a,i,!1,null,null,null);e["default"]=p.exports}}]);